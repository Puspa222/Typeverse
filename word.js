// Description: This file contains the code for the type test.
str=`Your experience as you look at the woman's face seamlessly combines what we normally call seeing and intuitive thinking. As surely and quickly as
you saw that the young woman's hair is dark, you knew she is angry.
Furthermore, what you saw extended into the future. You sensed that this woman is about to say some very unkind words, probably in a loud and
strident voice. A premonition of what she was going to do next came to mind automatically and effortlessly. You did not intend to assess her mood
or to anticipate what she might do, and your reaction to the picture did not
have the feel of something you did. It just happened to you. It was an
instance of fast thinking. You knew immediately that this is a multiplication problem, and probably
knew that you could solve it, with paper and pencil, if not without. You also
had some vague intuitive knowledge of the range of possible results. You would be quick to recognize that both 12,609 and 123 are implausible. Without spending some time on the problem, however, you would not be
certain that the answer is not 568.A precise solution did not come to mind,
and you felt that you could choose whether or not to engage in the
computation. If you have not done so yet, you should attempt the multiplication problem now, completing at least part of it. You experienced slow thinking as you proceeded through a sequence of
steps. You first retrieved from memory the cognitive program for multiplication that you learned in school, then you implemented it. Carrying
out the computation was a strain. You felt the burden of holding much material in memory, as you needed to keep track of where you were and of where you were going, while holding on to the intermediate result. The
process was mental work: deliberate, effortful, and orderly--a prototype of
slow thinking. The computation was not only an event in your mind; your
body was also involved. Your muscles tensed up, your blood pressure
rose, and your heart rate increased. Someone looking closely at your eyes while you tackled this problem would have seen your pupils dilate. Your
pupils contracted back to normal size as soon as you ended your work--
when you found the answer (which is 408, by the way) or when you gave
up. All these mental events belong with the angry woman--they occur
automatically and require little or no effort. The capabilities of System 1
include innate skills that we share with other animals. We are born
prepared to perceive the world around us, recognize objects, orient
attention, avoid losses, and fear spiders. Other mental activities become
fast and automatic through prolonged practice. System 1 has learned
associations between ideas (the capital of France?); it has also learned
skills such as reading and understanding nuances of social situations. Some skills, such as finding strong chess moves, are acquired only by
specialized experts. Others are widely shared. Detecting the similarity of a
personality sketch to an occupatiohein occupatnal stereotype requires
broad knowledge of the language and the culture, which most of us
possess. The knowledge is stored in memory and accessed without
intention and without effort. Several of the mental actions in the list are completely involuntary. You
cannot refrain from understanding simple sentences in your own language
or from orienting to a loud unexpected sound, nor can you prevent yourself
from knowing that 2 + 2 = 4 or from thinking of Paris when the capital of
France is mentioned. Other activities, such as chewing, are susceptible to
voluntary control but normally run on automatic pilot. The control of attention
is shared by the two systems. Orienting to a loud sound is normally an
involuntary operation of System 1, which immediately mobilizes the
voluntary attention of System 2. You may be able to resist turning toward
the source of a loud and offensive comment at a crowded party, but even if
your head does not move, your attention is initially directed to it, at least for
a while. However, attention can be moved away from an unwanted focus,
primarily by focusing intently on another target.
The highly diverse operations of System 2 have one feature in common:
they require attention and are disrupted when attention is drawn away. Here are some examples:
If you wish to experience your System 2 working at full tilt, the following
exercise will do; it should you to the limits of your cognitive
abilities within 5 seconds. To start, make up several strings of 4 digits, all
different, and write each string on an index card. Place a blank card on top
of the deck. The task that you will perform is called Add-1. Here is how it
goes:
Start beating a steady rhythm (or better yet, set a metronome at
1/sec). Remove the blank card and read the four digits aloud. Wait for two beats, then report a string in which each of the
original digits is incremented by 1. If the digits on the card are
5294, the correct response is 6305. Keeping the rhythm is
important.
Few people can cope with more than four digits in the Add-1 task, but if
you want a harder challenge, please try Add-3.
If you would like to know what your body is doing while your mind is hard
at work, set up two piles of books on a sturdy table, place a video camera
on one and lean your chin on the other, get the video going, and stare at
the camera lens while you work on Add-1 or Add-3 exercises. Later, you will find in the changing size of your pupils a faithful record of how hard you worked.
I have a long personal history with the Add-1 task. Early in my career I
spent a year at the University of Michigan, as a visitor in a laboratory that
studied hypnosis. Casting about for a useful topic of research, I found an
article in Scientific American in which the psychologist Eckhard Hess
described the pupil of the eye as a window to the soul. I reread it recently
and again found it inspiring. It begins with Hess reporting that his wife had
noticed his pupils widening as he watched beautiful nature pictures, and it
ends with two striking pictures of the same good-looking woman, who
somehow appears much more attractive in one than in the other. There is
only one difference: the pupils of the eyes appear dilated in the attractive
picture and constricted in the other. Hess also wrote of belladonna, a pupildilating substance that was used as a cosmetic, and of bazaar shoppers who wear dark glasses in order to hide their level of interest from
merchants. Beatty and I focused on paced tasks, such as Add-1, in which we knew
precisely what was on the subject's mind at any time. We recorded strings
of digits on beats of the metronome and instructed the subject to repeat or
transform the digits one indigits onby one, maintaining the same rhythm. We soon discovered that the size of the pupil varied second by second,
reflecting the changing demands of the task. The shape of the response was an inverted V. As you experienced it if you tried Add-1 or Add-3, effort
builds up with every added digit that you hear, reaches an almost
intolerable peak as you rush to produce a transformed string during and
immediately after the pause, and relaxes gradually as you "unload" your
short-term memory. The pupil data corresponded precisely to subjective
experience: longer strings reliably caused larger dilations, the
transformation task compounded the effort, and the peak of pupil size
coincided with maximum effort. Add-1 with four digits caused a larger
dilation than the task of holding seven digits for immediate recall. Add-3, which is much more difficult, is the most demanding that I ever observed. In
the first 5 seconds, the pupil dilates by about 50% of its original area and
heart rate increases by about 7 beats per minute. This is as hard as
people can work--they give up if more is asked of them. When we
exposed our subjects to more digits than they could remember, their pupils
stopped dilating or actually shrank. We worked for some months in a spacious basement suite in which we
had set up a closed-circuit system that projected an image of the subject's
pupil on a screen in the corridor; we also could hear what was happening
in the laboratory. The diameter of the projected pupil was about a foot; watching it dilate and contract when the participant was at work was a
fascinating sight, quite an attraction for visitors in our lab. We amused
ourselves and impressed our guests by our ability to divine when the
participant gave up on a task. During a mental multiplication, the pupil
normally dilated to a large size within a few seconds and stayed large as
long as the individual kept working on the problem; it contracted
immediately when she found a solution or gave up. As we watched from
the corridor, we would sometimes surprise both the owner of the pupil and
our guests by asking, "Why did you stop working just now?" The answer
from inside the lab was often, "How did you know?" to which we would
reply, "We have a window to your soul. I spend a few months each year in Berkeley, and one of my great
pleasures there is a daily four-mile walk on a marked path in the hills, with
a fine view of San Francisco Bay. I usually keep track of my time and have
learned a fair amount about effort from doing so. I have found a speed,
about 17 minutes for a mile, which I experience as a stroll. I certainly exert
physical effort and burn more calories at that speed than if I sat in a
recliner, but I experience no strain, no conflict, and no need to push myself.
I am also able to think and work while walking at that rate. Indeed, I suspect
that the mild physical arousal of the walk may spill over into greater mental
alertness. System 2 also has a natural speed. You expend some mental energy in
random thoughts and in monitoring what goes on around you even when
your mind does nothing in particular, but there is little strain. Unless you are
in a situation that makes you unusually wary or self-conscious, monitoring what happens in the environment or inside your head demands little effort. You make many small decisions as you drive your car, absorb some
information as you read the newspaper, and conduct routine exchanges of
pleasantries with a spouse or a colleague, all with little effort and no strain.
Just like a stroll.
It is normally easy and actually quite pleasant to walk and think at the
same time, but at the extremes these activities appear to compete for the
limited resources of System 2. You can confirm this claim by a simple
experiment. While walking comfortably with a friend, ask him to compute
23 * 78 in his head, and to do so immediately. He will almost certainly stop
in his tracks. My experience is that I can think while strolling but cannot
engage in mental work that imposes a heavy load on short-term memory. If
I must construct an intricate argument under time pressure, I would rather
be still, and I would prefer sitting to standing. Of course, not all slow
thinking requires that form of intense concentration and effortful
computation--I did the best thinking of my life on leisurely walks with
Amos. Accelerating beyond my strolling speed completely changes the
experience of walking, because the transition to a faster walk brings about
a sharp deterioration in my ability to think coherently. As I speed up, my
attention is drawn with increasing frequency to the experience of walking
and to the deliberate maintenance of the faster pace. My ability to bring a
train of thought to a conclusion is impaired accordingly. At the highest
speed I can sustain on the hills, about 14 minutes for a mile, I do not even
try to think of anything else. In addition to the physical effort of moving my
body rapidly along the path, a mental effort of self-control is needed to
resist the urge to slow down. Self-control and deliberate thought apparently
draw on the same limited budget of effort.
For most of us, most of the time, the maintenance of a coherent train of
thought and the occasional engagement in effortful thinking also require
self-control. Although I have not conducted a systematic survey, I suspect
that frequent switching of tasks and speeded-up mental work are not
intrinsically pleasurable, and that people avoid them when possible. This is
how the law of least effort comes to be a law. Even in the absence of time
pressure, maintaining a coherent train of thought requires discipline. An
observer of the number of times I look at e-mail or investigate the
refrigerator during an hour of writing could wahene dd reasonably infer an
urge to escape and conclude that keeping at it requires more self-control
than I can readily muster.
Fortunately, cognitive work is not always aversive, and people
sometimes expend considerable effort for long periods of time without
having to exert willpower. The psychologist Mihaly Csikszentmihalyi
(pronounced six-cent-mihaly) has done more than anyone else to study this
state of effortless attending, and the name he proposed for it, flow, has
become part of the language. People who experience flow describe it as
"a state of effortless concentration so deep that they lose their sense of
time, of themselves, of their problems," and their descriptions of the joy of
that state are so compelling that Csikszentmihalyi has called it an "optimal
experience." Many activities can induce a sense of flow, from painting to
racing motorcycles-and for some fortunate authors I know, even writing a
book is often an optimal experience. Flow neatly separates the two forms
of effort: concentration on the task and the deliberate control of attention. Riding a motorcycle at 150 miles an hour and playing a competitive game
of chess are certainly very effortful. In a state of flow, however, maintaining
focused attention on these absorbing activities requires no exertion of selfcontrol, thereby freeing resources to be directed to the task at hand. `;

let start=0;
let end=0;

b=str.split('.');
let text = "";
let tarea=document.querySelector(".type");
let ins=document.querySelector(".instruction")
let res=document.querySelector(".result")
tarea.setAttribute("class","type blur") 

for(i=0;i<15;i++){
    let r=Math.floor(Math.random()*b.length);
    text +=b[r]+".";
    c=b[r].split(" ");
    tarea.innerHTML+="<span class='sentence'>";
    for(k=1;k<c.length;k++){
        d=c[k].split("");
        tarea.innerHTML+="<span class='word'>"
        for(j=0;j<d.length;j++){
            tarea.innerHTML+="<letter class='untype'>"+d[j]+"</letter>";
        }
        if(k==c.length-1){
            tarea.innerHTML+="</span>";

        }
        else{

            tarea.innerHTML+="<letter class='untype'>"+"\t"+"</letter>";
            tarea.innerHTML+="</span>";
        }
    }
    tarea.innerHTML+="<letter class='untype'>"+"."+"</letter>"+"<letter class='untype'>"+"\t"+"</letter>";
    tarea.innerHTML+="</span>";

}

let correct=0;
let corr=document.querySelector(".correct")
let incorrect=0;
let inco=document.querySelector(".incorrect")
let wpm=document.querySelector(".wpm")
let acc=document.querySelector(".acc")
let txt = "";

function findKeyPressed(event) {
    if(start==1){
   
    if(event.key == 'Backspace'){
        txt = txt.slice(0,-1);
        h[txt.length].setAttribute("class","untype active");
        h[txt.length+1].setAttribute("class","untype");


    }
   
    else if(event.key == ' '){
        txt += " ";
    for(i=txt.length-1;i<txt.length;i++){
if(event.key==tarea.innerText[i]){
  
    
    wco();
   }
   else{
  
    if(event.key==' '){
        wio(0)
         }else{
        
             wio(1);
            }
   }
      } 

        
       }
    
    
 
    else if(event.key.length>1){
     txt=txt;
    }

   else{
    txt += event.key;
    for(i=txt.length-1;i<txt.length;i++){
if(event.key==tarea.innerText[i]){

    co();
   }
   else{
    
 if(tarea.innerText[i]==' '){
io(0)
 }else{

     io(1);
    }
   }
      } 
     }
}
else{
     if(event.key=="Enter"&& end==0){
        starttime();
        ins.setAttribute("class","instruction hidden")
        tarea.setAttribute("class","type")
       
        start=1;
    }
}

}
let h= document.querySelectorAll(".untype");
function co(){
    h[txt.length].setAttribute("class","untype active");
h[txt.length-1].setAttribute("class","c");
}
function io(b){
    h[txt.length].setAttribute("class","untype active");
if(b==1){
    h[txt.length-1].setAttribute("class","i");}
    else{
        h[txt.length-1].setAttribute("class","i wi wordi");
    }
}
function wco(){
    h[txt.length].setAttribute("class","untype active");
    h[txt.length-1].setAttribute("class","c wordc");
    // h[txt.length-1].setAttribute("class","wc");
}
function wio(b){
    h[txt.length].setAttribute("class","untype active");

    if(b==1){
        h[txt.length-1].setAttribute("class","i wi");}
        else{
            h[txt.length-1].setAttribute("class","i wordi");
        }
}
t=document.getElementById('time');
count=60;
function starttime(){
    if(count>=0){
    setInterval(timer,1000)}
}
function timer(){
    count--;
    if(count<-1){

    }
    else if(count==-1){
        start=0;
        end=1;
cal();
// corr.innerText=correct;
// inco.innerText=incorrect;
wpm.innerHTML=correct;
highs(correct);
acc.innerText=parseInt((ccc*100)/(ccc+iii))+"%";
res.setAttribute("class","result update")
tarea.setAttribute("class","type dem hidden");
ins.setAttribute("class","instruction rel");
ins.innerHTML="Refresh the browser to restart."

    }
    else{

        t.innerText=count;
    }
}
let hw=document.querySelector(".hwpm")
hw.innerHTML=localStorage.getItem("hwpm")
let incc=0
let inpp=0
let worc=0;
let iii=0;
let ccc=0;
let twor=0;
function cal(){
console.log("Calculating...")
   let cw= document.querySelectorAll(`.word~.c,.word~.i`);



    for(i=0;i<cw.length;i++){
    if(cw[i].className=="c wordc"||cw[i].className=="c wordi"||cw[i].className=="c wi wordi"){
worc=worc+1;
if(worc>twor){
    if(incc==0 && inpp>0){
        ++correct;
    }
    else{
        ++incorrect;
    }
incc=0;
inpp=0
}twor=worc;
    }
    if(cw[i].className=="i"){
        ++incc;
        ++iii;
    }
    if(cw[i].className=="c"){
        ++inpp
        ++ccc;
    }

}



console.log("Calculation complete")
}
function highs(s){
    
    if(localStorage.getItem("hwpm")<s){
 localStorage.setItem("hwpm",s)
    }
  hw.innerHTML=localStorage.getItem("hwpm");

}
h[txt.length].setAttribute("class","untype active");

   document.addEventListener('keydown', findKeyPressed);




